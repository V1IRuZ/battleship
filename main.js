(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},o=[],s=0;s<n.length;s++){var l=n[s],d=r.base?l[0]+r.base:l[0],A=i[d]||0,c="".concat(d," ").concat(A);i[d]=A+1;var h=t(c),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var u=a(p,r);r.byIndex=s,e.splice(s,0,{identifier:c,updater:u,references:1})}o.push(c)}return o}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var i=r(n=n||[],a=a||{});return function(n){n=n||[];for(var o=0;o<i.length;o++){var s=t(i[o]);e[s].references--}for(var l=r(n,a),d=0;d<i.length;d++){var A=t(i[d]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}i=l}}},96:(n,e,t)=>{n.exports=t.p+"54f7d9af03009ffdccb6.woff"},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,i){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<n.length;d++){var A=[].concat(n[d]);r&&o[A[0]]||(void 0!==i&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=i),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(a," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},365:(n,e,t)=>{t.d(e,{A:()=>E});var r=t(354),a=t.n(r),i=t(314),o=t.n(i),s=t(417),l=t.n(s),d=new URL(t(682),t.b),A=new URL(t(96),t.b),c=new URL(t(899),t.b),h=new URL(t(787),t.b),p=o()(a()),u=l()(d),m=l()(A),g=l()(c),C=l()(h);p.push([n.id,`/* FONTS */\n\n@font-face {\n  font-family: "Ethnocentric";\n  src:\n    url(${u}) format("woff2"),\n    url(${m}) format("woff");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: "Kimberley";\n  src:\n    url(${g}) format("woff2"),\n    url(${C}) format("woff");\n  font-weight: 900;\n  font-style: normal;\n  font-display: swap;\n}\n\n/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\n/* VARIABLES */\n\n:root {\n  --system-ui:\n    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n    Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n  --board-size: 500px;\n  --border-radius: 30px;\n  --cell-size: calc(var(--board-size) / 10);\n  --background-color: #192a51;\n  --board-color: #233d4d;\n  --hit-color: #ff595e;\n  --miss-color: #fbfbf2;\n  --ship-color: #19191a;\n  --active-color: #3498db;\n  --box-shadow: 0 0 10px rgba(52, 152, 219, 0.6);\n  --hover-color: #54b2f1;\n}\n\n/* BASIC LAYOUT */\n\nbody {\n  visibility: hidden;\n  font-family: "Kimberley", var(--system-ui);\n  background-color: var(--background-color);\n}\n\nbody.ready {\n  visibility: visible;\n}\n\n#page {\n  display: grid;\n  gap: 1em;\n  grid-template-rows: 100px 1fr 50px;\n  margin: 0 auto;\n}\n\nheader {\n  justify-items: center;\n}\n\nheader h1 {\n  font-family: "Ethnocentric", var(--system-ui);\n  padding: 8px;\n  font-size: 3rem;\n  color: var(--active-color);\n  text-shadow: 8px 8px var(--ship-color);\n}\n\nmain {\n  display: grid;\n  grid-template-rows: 1fr, 100px;\n  justify-items: center;\n}\n\n#content {\n  display: flex;\n  gap: 4em;\n}\n\n#button-menu {\n  margin-top: 3em;\n}\n\nbutton {\n  cursor: pointer;\n  border-radius: var(--border-radius);\n  color: var(--active-color);\n  font-weight: 900;\n  background-color: var(--background-color);\n  border-color: var(--active-color);\n  box-shadow: var(--box-shadow);\n  transition: transform 0.3s ease-in-out;\n}\n\nbutton:hover {\n  color: var(--hover-color);\n  box-shadow: 0 0 10px rgba(75, 157, 211, 0.6);\n  transform: scale(1.2);\n}\n\n/* MENU */\n\n.menu {\n  margin-top: 3em;\n  display: flex;\n  flex-direction: column;\n  gap: 2em;\n}\n\n.menu img {\n  width: 400px;\n  height: auto;\n  margin-bottom: 3em;\n}\n\n.single-player,\n.pvp {\n  padding: 0.5em 1em;\n  font-size: 2rem;\n}\n\n/* PVP NAME */\n\n.pvp-setup {\n  margin-top: 2em;\n  color: var(--miss-color);\n  width: var(--board-size);\n}\n\n.pvp-setup > h1 {\n  font-size: 2.5rem;\n  margin-bottom: 1.5em;\n}\n\n.pvp-setup > p {\n  margin-bottom: 2em;\n}\n\n.pvp-setup > button {\n  font-size: 1.25rem;\n  padding: 6px 12px;\n  margin-bottom: 4em;\n}\n\n.pvp-name {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 1.5em;\n}\n\n.pvp-name label {\n  font-size: 1.5rem;\n}\n\n.pvp-name input {\n  padding-left: 10px;\n  width: 14.5em;\n  background-color: var(--background-color);\n  color: var(--miss-color);\n  border-radius: 10px;\n  border: 4px solid var(--active-color);\n  outline: none;\n  font-size: 2rem;\n}\n\n.pvp-name input:focus {\n  border-color: var(--hover-color);\n}\n\n.pvp-setup > p {\n  font-size: 1.25rem;\n  font-weight: 900;\n}\n\n/* BOARD SETUP */\n\n.info {\n  color: var(--miss-color);\n  align-content: center;\n  width: var(--board-size);\n}\n\n.info h2 {\n  font-size: 2rem;\n  padding-bottom: 1em;\n}\n\nul {\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 0;\n  font-size: 1.25rem;\n}\n\n.setup > .cell {\n  cursor: default;\n}\n\n.setup > .ship {\n  background-color: var(--ship-color);\n  cursor: grab;\n}\n\n.player1 > .ship.dragging,\n.player2 > .ship.dragging {\n  background-color: #e2e8ddb9;\n}\n\n.ghost,\n.cell.ship.ghost {\n  background-color: #b7d1da7c;\n}\n\n/* BUTTON MENU */\n\n.options {\n  display: flex;\n  gap: 1.5em;\n}\n\n.options > button,\n.back-btn,\n.exit-btn,\n.again-btn {\n  font-size: 1.25rem;\n  padding: 6px 12px;\n}\n\n/* GAMEBOARD */\n\n.player1-tag.active h1,\n.player2-tag.active h1 {\n  border: 2px solid var(--active-color);\n  border-radius: var(--border-radius);\n}\n\n.board-grid.player1.active,\n.board-grid.player2.active {\n  border: 2px solid var(--active-color);\n}\n\n.board-container {\n  align-content: center;\n  color: var(--miss-color);\n  display: grid;\n  grid-template-columns: var(--cell-size) var(--board-size);\n  grid-template-rows: 80px var(--cell-size) var(--board-size);\n}\n\n.player1-tag,\n.player2-tag {\n  display: grid;\n  justify-content: center;\n  grid-row: 1/2;\n  grid-column: 1/3;\n}\n\n.player1-tag h1,\n.player2-tag h1 {\n  font-size: 1.5rem;\n  padding: 8px 16px;\n  align-content: center;\n}\n\n.x-coords {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-row: 2/3;\n  grid-column: 2/3;\n}\n\n.x-cell,\n.y-cell {\n  align-content: center;\n  text-align: center;\n}\n\n.y-coords {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-row: 3/4;\n  grid-column: 1/2;\n}\n\n.board-grid {\n  grid-column: 2/3;\n  grid-row: 3/4;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  border: 2px solid var(--board-color);\n  width: var(--board-size);\n  height: var(--board-size);\n}\n\n.cell {\n  cursor: crosshair;\n  border: 2px solid var(--board-color);\n}\n\n.show-ships > .ship {\n  background-color: var(--ship-color);\n}\n\n.player1 > .cell.ship.hit,\n.player2 > .cell.ship.hit {\n  background-color: var(--hit-color);\n}\n\n.miss {\n  background-color: var(--miss-color);\n}\n\n/* MODAL */\n\ndialog:not([open]) {\n  display: none;\n}\n\ndialog {\n  position: fixed;\n  margin: 0 auto;\n  top: 12em;\n  font-size: 2rem;\n  background-color: var(--background-color);\n  border: 2px solid var(--active-color);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  padding: 1em;\n}\n\n.winner-text {\n  color: var(--miss-color);\n  margin-bottom: 1em;\n}\n\n.modal-btns {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1em;\n}\n\n/* ANIMATIONS */\n\n/* BOARD ACTIONS */\n.cell.miss,\n.cell.hit,\n.setup > .ship,\n.cell.ship.hit {\n  animation: pop-in 150ms ease-out forwards;\n  will-change: transform;\n}\n\n@keyframes pop-in {\n  0% {\n    transform: scale(0.2);\n    opacity: 0;\n  }\n  80% {\n    transform: scale(1.1);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\nh1,\n.board-grid {\n  transition:\n    border-color 0.4s ease,\n    box-shadow 0.4s ease,\n    border-radius 0.4 ease;\n}\n\n/* SWITCHING ACTIVE PLAYER */\n\n.board-grid.active,\n.active > h1 {\n  border-color: var(--active-color) !important;\n  box-shadow: var(--box-shadow);\n}\n\n/* LOADING DOM */\n\n.fade-in {\n  opacity: 0;\n  animation: fadeIn 500ms ease forwards;\n}\n\n@keyframes fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"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",sourcesContent:['/* FONTS */\n\n@font-face {\n  font-family: "Ethnocentric";\n  src:\n    url("./assets/fonts/Ethnocentric-Regular.woff2") format("woff2"),\n    url("./assets/fonts/Ethnocentric-Regular.woff") format("woff");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: "Kimberley";\n  src:\n    url("./assets/fonts/Kimberley-Black.woff2") format("woff2"),\n    url("./assets/fonts/Kimberley-Black.woff") format("woff");\n  font-weight: 900;\n  font-style: normal;\n  font-display: swap;\n}\n\n/*\n  Josh\'s Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\n/* VARIABLES */\n\n:root {\n  --system-ui:\n    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n    Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n  --board-size: 500px;\n  --border-radius: 30px;\n  --cell-size: calc(var(--board-size) / 10);\n  --background-color: #192a51;\n  --board-color: #233d4d;\n  --hit-color: #ff595e;\n  --miss-color: #fbfbf2;\n  --ship-color: #19191a;\n  --active-color: #3498db;\n  --box-shadow: 0 0 10px rgba(52, 152, 219, 0.6);\n  --hover-color: #54b2f1;\n}\n\n/* BASIC LAYOUT */\n\nbody {\n  visibility: hidden;\n  font-family: "Kimberley", var(--system-ui);\n  background-color: var(--background-color);\n}\n\nbody.ready {\n  visibility: visible;\n}\n\n#page {\n  display: grid;\n  gap: 1em;\n  grid-template-rows: 100px 1fr 50px;\n  margin: 0 auto;\n}\n\nheader {\n  justify-items: center;\n}\n\nheader h1 {\n  font-family: "Ethnocentric", var(--system-ui);\n  padding: 8px;\n  font-size: 3rem;\n  color: var(--active-color);\n  text-shadow: 8px 8px var(--ship-color);\n}\n\nmain {\n  display: grid;\n  grid-template-rows: 1fr, 100px;\n  justify-items: center;\n}\n\n#content {\n  display: flex;\n  gap: 4em;\n}\n\n#button-menu {\n  margin-top: 3em;\n}\n\nbutton {\n  cursor: pointer;\n  border-radius: var(--border-radius);\n  color: var(--active-color);\n  font-weight: 900;\n  background-color: var(--background-color);\n  border-color: var(--active-color);\n  box-shadow: var(--box-shadow);\n  transition: transform 0.3s ease-in-out;\n}\n\nbutton:hover {\n  color: var(--hover-color);\n  box-shadow: 0 0 10px rgba(75, 157, 211, 0.6);\n  transform: scale(1.2);\n}\n\n/* MENU */\n\n.menu {\n  margin-top: 3em;\n  display: flex;\n  flex-direction: column;\n  gap: 2em;\n}\n\n.menu img {\n  width: 400px;\n  height: auto;\n  margin-bottom: 3em;\n}\n\n.single-player,\n.pvp {\n  padding: 0.5em 1em;\n  font-size: 2rem;\n}\n\n/* PVP NAME */\n\n.pvp-setup {\n  margin-top: 2em;\n  color: var(--miss-color);\n  width: var(--board-size);\n}\n\n.pvp-setup > h1 {\n  font-size: 2.5rem;\n  margin-bottom: 1.5em;\n}\n\n.pvp-setup > p {\n  margin-bottom: 2em;\n}\n\n.pvp-setup > button {\n  font-size: 1.25rem;\n  padding: 6px 12px;\n  margin-bottom: 4em;\n}\n\n.pvp-name {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 1.5em;\n}\n\n.pvp-name label {\n  font-size: 1.5rem;\n}\n\n.pvp-name input {\n  padding-left: 10px;\n  width: 14.5em;\n  background-color: var(--background-color);\n  color: var(--miss-color);\n  border-radius: 10px;\n  border: 4px solid var(--active-color);\n  outline: none;\n  font-size: 2rem;\n}\n\n.pvp-name input:focus {\n  border-color: var(--hover-color);\n}\n\n.pvp-setup > p {\n  font-size: 1.25rem;\n  font-weight: 900;\n}\n\n/* BOARD SETUP */\n\n.info {\n  color: var(--miss-color);\n  align-content: center;\n  width: var(--board-size);\n}\n\n.info h2 {\n  font-size: 2rem;\n  padding-bottom: 1em;\n}\n\nul {\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 0;\n  font-size: 1.25rem;\n}\n\n.setup > .cell {\n  cursor: default;\n}\n\n.setup > .ship {\n  background-color: var(--ship-color);\n  cursor: grab;\n}\n\n.player1 > .ship.dragging,\n.player2 > .ship.dragging {\n  background-color: #e2e8ddb9;\n}\n\n.ghost,\n.cell.ship.ghost {\n  background-color: #b7d1da7c;\n}\n\n/* BUTTON MENU */\n\n.options {\n  display: flex;\n  gap: 1.5em;\n}\n\n.options > button,\n.back-btn,\n.exit-btn,\n.again-btn {\n  font-size: 1.25rem;\n  padding: 6px 12px;\n}\n\n/* GAMEBOARD */\n\n.player1-tag.active h1,\n.player2-tag.active h1 {\n  border: 2px solid var(--active-color);\n  border-radius: var(--border-radius);\n}\n\n.board-grid.player1.active,\n.board-grid.player2.active {\n  border: 2px solid var(--active-color);\n}\n\n.board-container {\n  align-content: center;\n  color: var(--miss-color);\n  display: grid;\n  grid-template-columns: var(--cell-size) var(--board-size);\n  grid-template-rows: 80px var(--cell-size) var(--board-size);\n}\n\n.player1-tag,\n.player2-tag {\n  display: grid;\n  justify-content: center;\n  grid-row: 1/2;\n  grid-column: 1/3;\n}\n\n.player1-tag h1,\n.player2-tag h1 {\n  font-size: 1.5rem;\n  padding: 8px 16px;\n  align-content: center;\n}\n\n.x-coords {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-row: 2/3;\n  grid-column: 2/3;\n}\n\n.x-cell,\n.y-cell {\n  align-content: center;\n  text-align: center;\n}\n\n.y-coords {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-row: 3/4;\n  grid-column: 1/2;\n}\n\n.board-grid {\n  grid-column: 2/3;\n  grid-row: 3/4;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  border: 2px solid var(--board-color);\n  width: var(--board-size);\n  height: var(--board-size);\n}\n\n.cell {\n  cursor: crosshair;\n  border: 2px solid var(--board-color);\n}\n\n.show-ships > .ship {\n  background-color: var(--ship-color);\n}\n\n.player1 > .cell.ship.hit,\n.player2 > .cell.ship.hit {\n  background-color: var(--hit-color);\n}\n\n.miss {\n  background-color: var(--miss-color);\n}\n\n/* MODAL */\n\ndialog:not([open]) {\n  display: none;\n}\n\ndialog {\n  position: fixed;\n  margin: 0 auto;\n  top: 12em;\n  font-size: 2rem;\n  background-color: var(--background-color);\n  border: 2px solid var(--active-color);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  padding: 1em;\n}\n\n.winner-text {\n  color: var(--miss-color);\n  margin-bottom: 1em;\n}\n\n.modal-btns {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1em;\n}\n\n/* ANIMATIONS */\n\n/* BOARD ACTIONS */\n.cell.miss,\n.cell.hit,\n.setup > .ship,\n.cell.ship.hit {\n  animation: pop-in 150ms ease-out forwards;\n  will-change: transform;\n}\n\n@keyframes pop-in {\n  0% {\n    transform: scale(0.2);\n    opacity: 0;\n  }\n  80% {\n    transform: scale(1.1);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\nh1,\n.board-grid {\n  transition:\n    border-color 0.4s ease,\n    box-shadow 0.4s ease,\n    border-radius 0.4 ease;\n}\n\n/* SWITCHING ACTIVE PLAYER */\n\n.board-grid.active,\n.active > h1 {\n  border-color: var(--active-color) !important;\n  box-shadow: var(--box-shadow);\n}\n\n/* LOADING DOM */\n\n.fade-in {\n  opacity: 0;\n  animation: fadeIn 500ms ease forwards;\n}\n\n@keyframes fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n'],sourceRoot:""}]);const E=p},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},682:(n,e,t)=>{n.exports=t.p+"565085fa922dc9ffc4c0.woff2"},787:(n,e,t)=>{n.exports=t.p+"fd511c18dc41383c5b1a.woff"},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},899:(n,e,t)=>{n.exports=t.p+"6b0e50735e2f532c57c3.woff2"}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return n[r](i,i.exports,t),i.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(n=e.currentScript.src),!n)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!n||!/^http(s?):/.test(n));)n=r[a--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0;var r=t(72),a=t.n(r),i=t(825),o=t.n(i),s=t(659),l=t.n(s),d=t(56),A=t.n(d),c=t(540),h=t.n(c),p=t(113),u=t.n(p),m=t(365),g={};g.styleTagTransform=u(),g.setAttributes=A(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=h(),a()(m.A,g),m.A&&m.A.locals&&m.A.locals;class C{constructor(n,e){this.length=e,this.hits=0,this.name=n,this.coords=[],this.placed=!1,this.rotation}hit(){this.hits++}setCoords(n){return this.coords.push(n)}resetCoords(){this.coords=[]}getFirstPosition(){return this.coords[0]}setPlaced(){this.placed=!this.placed}setRotation(n){this.rotation=n}getRotation(){return this.rotation}get isPlaced(){return this.placed}get isSunk(){return this.length<=this.hits}}class E{constructor(){this.board=Array.from({length:10},(()=>Array(10).fill(null))),this.ships=[new C("carrier",5),new C("battleship",4),new C("cruiser1",3),new C("cruiser2",3),new C("destroyer",2),new C("submarine",1)]}#n(n,e,t){if("horizontal"===t&&e[1]+n.length>10)throw new Error("Ship placement out of bounds horizontally");if("vertical"===t&&e[0]+n.length>10)throw new Error("Ship placement out of bounds vertically")}#e(n,e,t){const r=[[n-1,e-1],[n,e-1],[n+1,e-1],[n-1,e],[n+1,e],[n-1,e+1],[n,e+1],[n+1,e+1]].filter((([n,e])=>n>=0&&n<10&&e>=0&&e<10)).map((([n,e])=>this.board[n][e])).some((n=>"string"==typeof n&&n!==t.name));if("string"==typeof this.board[n][e]||r)throw new Error("Overlapping or adjacent placements are not allowed")}#t(n,e,t){const[r,a]=e,i=[];for(let e=0;e<n.length;e++){const o="vertical"===t?r+e:r,s="horizontal"===t?a+e:a;this.#e(o,s,n),i.push([o,s])}return i}getPosition(n,e){return this.board[n][e]}getShipIndex(n){return this.ships.findIndex((e=>e.name===n))}getShip(n){return this.ships[n]}placeShip(n,e,t){const r=this.ships[n];this.#n(r,e,t),this.#t(r,e,t).forEach((([n,e])=>{this.board[n][e]=r.name,r.setCoords([n,e])})),r.setPlaced(),r.setRotation(t)}#r(n){let e=0;for(;!this.ships[n].isPlaced&&e<1e3;)try{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),r=Math.random()<.5?"horizontal":"vertical";this.placeShip(n,[e,t],r)}catch(n){e++}if(!this.ships[n].isPlaced)throw new Error(`Could not place ships after ${e} attempts`)}placeAllShipsRandomly(){this.ships.forEach(((n,e)=>{this.#r(e)}))}removeShip(n){const e=this.ships[n];e.isPlaced&&(e.coords.forEach((([n,e])=>{this.board[n][e]=null})),e.setPlaced(),e.resetCoords())}removeAllShipsFromBoard(){this.ships.forEach(((n,e)=>{this.removeShip(e)}))}receiveAttack(n,e){const t=this.board[n][e];if("miss"===t||"hit"===t)return;if(null===t)return this.board[n][e]="miss","miss";const r=t,a=this.ships.findIndex((n=>n.name===r));return this.ships[a].hit(),this.board[n][e]="hit","hit"}get allShipsPlaced(){return this.ships.every((n=>n.isPlaced))}get allShipsSunk(){return this.ships.every((n=>n.isSunk))}}class f{constructor(n,e){this.name=e,this.id=n,this.gameBoard=new E}}class y extends f{constructor(n,e){super(n,e)}setName(n){n&&(this.name=n)}}class b extends f{constructor(n,e){super(n,e),this.algorithm="random",this.algorithmQueue=[],this.enemyShipsLengths=this.#a(),this.enemyHits=0,this.originalHit=null}#a(){return this.gameBoard.ships.map((n=>n.length))}#i(){this.enemyHits++}#o(n){this.originalHit=n}#s(){this.algorithmQueue=[]}#l(){this.originalHit=null}#d(){this.enemyHits=0}#A(){this.algorithmQueue.length<=0&&(this.#c(),this.switchAlgorithmState("random"),this.#l(),this.#s(),this.#d())}switchAlgorithmState(n){switch(n){case"random":default:this.algorithm="random";break;case"adjacent":this.algorithm="adjacent";break;case"horizontal":this.algorithm="horizontal";break;case"vertical":this.algorithm="vertical"}}attack(n){switch(this.algorithm){case"random":return this.randomAttack(n);case"adjacent":return this.adjacentAttack(n);case"horizontal":case"vertical":return this.horizontalVerticalAttack(n)}}#h(n,e,t){"hit"===t.gameBoard.receiveAttack(n,e)&&(this.#o([n,e]),this.#i(),this.switchAlgorithmState("adjacent"),this.#p([n,e],t))}randomAttack(n){for(;;){let e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());const r=n.gameBoard.getPosition(e,t);if("miss"!==r&&"hit"!==r)return this.#h(e,t,n),this.#A(),[e,t]}}#u(){const[n,e]=this.originalHit,t=this.algorithmQueue.filter((([e,t])=>e===n));this.algorithmQueue=t}#m(){const[n,e]=this.originalHit,t=this.algorithmQueue.filter((([n,t])=>t===e));this.algorithmQueue=t}#p(n,e){const[t,r]=n,a=this.#g(t,r,e);switch(this.algorithm){case"adjacent":this.#C(a);break;case"horizontal":this.#E(a);break;case"vertical":this.#f(a)}}#g(n,e,t){return[[n-1,e],[n+1,e],[n,e+1],[n,e-1]].filter((([n,e])=>n>=0&&n<10&&e>=0&&e<10)).filter((([n,e])=>"miss"!==t.gameBoard.getPosition(n,e)&&"hit"!==t.gameBoard.getPosition(n,e)))}#C(n){this.algorithmQueue.push(...n)}#E(n){const[e,t]=this.originalHit,r=n.filter((([n])=>n===e));this.algorithmQueue.push(...r)}#f(n){const[e,t]=this.originalHit,r=n.filter((([n,e])=>e===t));this.algorithmQueue.push(...r)}#y(n){n===this.originalHit[0]?(this.switchAlgorithmState("horizontal"),this.#u()):(this.switchAlgorithmState("vertical"),this.#m())}adjacentAttack(n){const[e,t]=this.algorithmQueue.shift();return"hit"===n.gameBoard.receiveAttack(e,t)&&(this.#y(e),this.#i(),this.#p([e,t],n)),this.#A(),[e,t]}#c(){if("random"===this.algorithm)return;const n=this.enemyShipsLengths.findIndex((n=>n===this.enemyHits));this.enemyShipsLengths.splice(n,1)}#b(){const n=Math.max(...this.enemyShipsLengths);return this.enemyHits>=n&&(this.#c(),this.switchAlgorithmState("random"),this.#l(),this.#s(),this.#d(),!0)}horizontalVerticalAttack(n){const[e,t]=this.algorithmQueue.shift();if("hit"===n.gameBoard.receiveAttack(e,t)){if(this.#i(),this.#b())return[e,t];this.#p([e,t],n)}return this.#A(),[e,t]}}const B=t.p+"a01053049c362ed6f2bf.png";class v{constructor(){this.gameState="setup",this.events=function(){let n=null;return{bindBoardClick(n,e){n.addEventListener("click",(n=>{if(!n.target.classList.contains("cell"))return;if(n.target.classList.contains("miss"))return;if(n.target.classList.contains("hit"))return;const t=Number(n.target.dataset.x),r=Number(n.target.dataset.y);e(t,r)}))},bindDragStart(e,t){e.addEventListener("dragstart",(e=>{if(e.target.classList.contains("ship")){n=e.target;const r=Number(e.target.dataset.x),a=Number(e.target.dataset.y),i=Number(e.target.dataset.shipIndex);t(r,a,i)}else e.preventDefault()}))},bindDragOver(n){n.addEventListener("dragover",(n=>{n.preventDefault()}))},bindDragEnter(e,t){e.addEventListener("dragenter",(e=>{if(!n)return;if(!e.target.classList.contains("cell"))return;const r=Number(e.target.dataset.x),a=Number(e.target.dataset.y),i=n.dataset.shipIndex;t(r,a,i)}))},bindDragDrop(e,t){e.addEventListener("dragend",(()=>{document.querySelectorAll(".ghost, .dragging").forEach((n=>n.classList.remove("ghost","dragging")))})),e.addEventListener("drop",(e=>{if(e.preventDefault(),!n)return;if(!e.target.classList.contains("cell"))return;const r=Number(e.target.dataset.x),a=Number(e.target.dataset.y),i=n.dataset.shipIndex;t(r,a,i),n=null}))},bindShipRotationDoubleClick(n,e){n.addEventListener("dblclick",(n=>{if(!n.target.classList.contains("ship"))return;const t=Number(n.target.dataset.shipIndex);console.log(t),e(t)}))},bindButtonClick(n,e,t){n.addEventListener("click",(n=>{n.target.matches(e)&&t()}))},removeAllEventListeners(n){const e=n.cloneNode(!0);return n.replaceWith(e),e},bindModalExitClick(n,e){document.querySelector(".exit-btn").addEventListener("click",(()=>{n.close(),e()}))},bindModalPlayAgainClick(n){const e=document.querySelector(".again-btn"),t=document.querySelector(".winner-modal");e.addEventListener("click",(()=>{t.close(),n()}))}}}(),this.render={drawContainer(...n){const e=document.createElement("div");return n.forEach((n=>{e.classList.add(n)})),e},drawButton(n,e){const t=document.createElement("button");return t.classList.add(n),t.textContent=e,t},showMenu(n){const e=this.drawContainer("menu"),t=document.createElement("img");t.src=B,t.alt="Battleship",t.width=853,t.height=640;const r=this.drawButton("single-player","PLAYER VS AI"),a=this.drawButton("pvp","PLAYER VS PLAYER");e.appendChild(t),e.appendChild(r),e.appendChild(a),n.appendChild(e)},showBackButton(n){const e=this.drawButton("back-btn","MENU");n.appendChild(e)},showSetupButtons(n,e){const t=this.drawContainer("options"),r=this.drawButton("back-btn","MENU"),a=this.drawButton("randomise","RANDOMISE"),i=this.drawButton(e,"READY");t.appendChild(r),t.appendChild(a),t.appendChild(i),n.appendChild(t)},showInfo(n){const e=this.drawContainer("info"),t=document.createElement("h2");t.textContent="Ship Placement",e.appendChild(t);const r=document.createElement("ul");e.appendChild(r);const a=document.createElement("li");a.textContent="Move ships by dragging",r.appendChild(a);const i=document.createElement("li");i.textContent="Change ship direction with a double click",r.appendChild(i);const o=document.createElement("li");o.textContent="Ships must be at least one square apart",r.appendChild(o);const s=document.createElement("li");s.textContent="Use the Randomise button to get random positions for the ships",r.appendChild(s);const l=document.createElement("li");l.textContent="Press the ready button when you are satisfied with the ship positions",r.appendChild(l),n.appendChild(e)},buildNameInput(n){const e=this.drawContainer("pvp-name"),t=document.createElement("label");t.textContent="Name",t.setAttribute("for",`${n}-name`);const r=document.createElement("input");return r.id=`${n}-name`,r.type="text",r.maxLength=20,e.appendChild(t),e.appendChild(r),e},showNameSetup(n,e){const t=this.drawContainer("pvp-setup"),r=document.createElement("h1");r.textContent=n.name;const a=document.createElement("p");a.textContent="Keep your current or enter a new player name";const i=document.createElement("p");i.textContent="When you press ready, you will go to the ship setup view, the other player should look away from the screen at this time";const o=this.buildNameInput(n.id),s=this.drawButton(`${n.id}-name-ready`,"READY");t.appendChild(r),t.appendChild(a),t.appendChild(o),t.appendChild(s),t.appendChild(i),e.appendChild(t)},drawNameTag(n){const e=this.drawContainer(`${n.id}-tag`),t=document.createElement("h1");return t.textContent=n.name,e.appendChild(t),e},drawTopCoordinates(){const n=document.createElement("div");n.classList.add("x-coords");for(let e=0;e<10;e++){const t=document.createElement("div");t.classList.add("x-cell"),t.textContent=`${"ABCDEFGHIJ"[e]}`,n.appendChild(t)}return n},drawLeftCoordinates(){const n=document.createElement("div");n.classList.add("y-coords");for(let e=1;e<=10;e++){const t=document.createElement("div");t.classList.add("y-cell"),t.textContent=`${e}`,n.appendChild(t)}return n},drawGrid(n,e){e.innerHTML="";for(let t=0;t<10;t++)for(let r=0;r<10;r++){const a=document.createElement("div");a.classList.add("cell"),a.dataset.x=t,a.dataset.y=r;const i=n.gameBoard.getPosition(t,r);if("string"==typeof i){const e=n.gameBoard.getShipIndex(i);a.classList.add("ship"),a.dataset.shipIndex=e}e.appendChild(a)}return e},buildBoard(n,e){const t=this.drawNameTag(e),r=this.drawContainer(n),a=this.drawLeftCoordinates(),i=this.drawTopCoordinates();return r.appendChild(t),r.appendChild(i),r.appendChild(a),r},showPlayingBoard(n,e){const t=this.buildBoard("board-container",n),r=this.drawContainer("board-grid","setup",n.id),a=this.drawGrid(n,r);t.appendChild(a),e.appendChild(t)},showStartGameUI(n,e,t){this.showPlayingBoard(n,t.content),this.showPlayingBoard(e,t.content),this.showCurrentPlayer(n,e),this.showBackButton(t.buttonMenu),this.removeSetupClass()},getNameInputValue:n=>document.querySelector(`#${n}-name`).value,removeSetupClass(){document.querySelectorAll(".setup").forEach((n=>{n.classList.remove("setup")}))},showHitandMiss(n,e,t){const r=document.querySelector(`.${t} > [data-x="${n}"][data-y="${e}"]`);r.classList.contains("ship")?r.classList.add("hit"):r.classList.add("miss")},removeShip(n){n.coords.forEach((([n,e])=>{const t=`.cell[data-x="${n}"][data-y="${e}"]`,r=document.querySelector(t);r.classList.remove("ship"),delete r.dataset.shipIndex}))},updateShip(n,e){n.coords.forEach((([n,t])=>{const r=`.cell[data-x="${n}"][data-y="${t}"]`,a=document.querySelector(r);a.classList.add("ship"),a.dataset.shipIndex=e}))},showDraggedShip(n){n.coords.forEach((([n,e])=>{const t=`.cell[data-x="${n}"][data-y="${e}"]`;document.querySelector(t).classList.add("dragging")}))},removeDraggedShip(n){n.forEach((([n,e])=>{const t=`.cell[data-x="${n}"][data-y="${e}"]`;document.querySelector(t).classList.remove("dragging")}))},showGhostShip(n,e,t,r){document.querySelectorAll(".ghost").forEach((n=>n.classList.remove("ghost")));for(let a=0;a<r;a++){let r;if("vertical"===t){const t=n+a,i=e;if(t>=10)break;r=`.cell[data-x="${t}"][data-y="${i}"]`}else if("horizontal"===t){const t=n,i=e+a;if(i>=10)break;r=`.cell[data-x="${t}"][data-y="${i}"]`}else{const t=n+a,i=e;if(t>=10)break;r=`.cell[data-x="${t}"][data-y="${i}"]`}const i=document.querySelector(r);i&&i.classList.add("ghost")}},removeAllShips(n){document.querySelectorAll(`.board-grid.${n} > .ship`).forEach((n=>{n.classList.remove("ship"),delete n.dataset.shipIndex}))},updateAllShips(n){n.gameBoard.ships.forEach(((n,e)=>{this.updateShip(n,e)}))},showShipsInSinglePlayer(n){document.querySelector(`.board-grid.${n}`).classList.add("show-ships")},showCurrentNameTag(n){document.querySelector(`.${n.id}-tag`).classList.add("active")},removeCurrentNameTag(n){document.querySelector(`.${n.id}-tag`).classList.remove("active")},showCurrentPlayer(n,e){this.showCurrentNameTag(n),document.querySelector(`.board-grid.${e.id}`).classList.add("active")},hideCurrentPlayer(n,e){this.removeCurrentNameTag(n),document.querySelector(`.board-grid.${e.id}`).classList.remove("active")},applyFadeInAnimation(n){n.classList.remove("fade-in"),n.offsetWidth,n.classList.add("fade-in")}},this.html={content:document.querySelector("#content"),buttonMenu:document.querySelector("#button-menu")},this.initMenu()}resetContainers(){this.html.content.innerHTML="",this.html.buttonMenu.innerHTML="",this.html.content=this.events.removeAllEventListeners(this.html.content),this.html.buttonMenu=this.events.removeAllEventListeners(this.html.buttonMenu)}prepareBoardPlacement(n,e){n.gameBoard.placeAllShipsRandomly(),this.resetContainers(),this.render.showInfo(this.html.content),this.render.showPlayingBoard(n,this.html.content),this.handleBoardDragEvents(n,e),this.handleRotationClicks(n,e)}handleBoardDragEvents(n,e){const t=document.querySelector(e);this.events.bindDragStart(t,((e,t,r)=>{this.handleShipDragStart(e,t,r,n)})),this.events.bindDragOver(t),this.events.bindDragEnter(t,((e,t,r)=>{this.handleShipDragEnter(e,t,r,n)})),this.events.bindDragDrop(t,((e,t,r)=>{this.handleShipDragDrop(e,t,r,n)}))}handleShipDragStart(n,e,t,r){if("setup"!==this.gameState)return;const a=r.gameBoard.getShip(t),i=a.length,o=a.rotation;this.render.showDraggedShip(a),this.render.showGhostShip(n,e,o,i)}handleShipDragEnter(n,e,t,r){if("setup"!==this.gameState)return;const a=r.gameBoard.getShip(t),i=a.length,o=a.rotation;this.render.showGhostShip(n,e,o,i)}handleShipDragDrop(n,e,t,r){if("setup"!==this.gameState)return;const a=r.gameBoard.getShip(t),i=a.rotation,o=a.getFirstPosition();try{this.render.removeShip(a),r.gameBoard.removeShip(t),r.gameBoard.placeShip(t,[n,e],i),this.render.updateShip(a,t)}catch(n){console.error(n),r.gameBoard.placeShip(t,o,i),this.render.updateShip(a,t)}}handleRotationClicks(n,e){const t=document.querySelector(e);this.events.bindShipRotationDoubleClick(t,(e=>{this.handleShipRotation(e,n)}))}handleShipRotation(n,e){if("setup"!==this.gameState)return;const t=e.gameBoard.getShip(n),r=t.getRotation(),a="horizontal"===t.getRotation()?"vertical":"horizontal",[i,o]=t.getFirstPosition();try{this.render.removeShip(t),e.gameBoard.removeShip(n),e.gameBoard.placeShip(n,[i,o],a),this.render.updateShip(t,n)}catch(a){console.error(a),e.gameBoard.placeShip(n,[i,o],r),this.render.updateShip(t,n)}}handleRandomise(n){n.gameBoard.removeAllShipsFromBoard(),n.gameBoard.placeAllShipsRandomly(),this.render.removeAllShips(n.id),this.render.updateAllShips(n)}handleSetupBtns(n,e,t){this.render.showSetupButtons(this.html.buttonMenu,e),this.events.bindButtonClick(this.html.buttonMenu,`.${e}`,(()=>{t()})),this.events.bindButtonClick(this.html.buttonMenu,".back-btn",(()=>{this.initMenu()})),this.events.bindButtonClick(this.html.buttonMenu,".randomise",(()=>{this.handleRandomise(n)}))}switchCurrentPlayer(){this.currentPlayer=this.currentPlayer===this.player1.id?this.player2.id:this.player1.id}handlePlayerSwitch(n,e){this.render.hideCurrentPlayer(n,e),this.render.showCurrentPlayer(e,n),this.switchCurrentPlayer()}initMenu(){this.gameState="setup",this.resetContainers(),this.render.applyFadeInAnimation(this.html.content),this.render.showMenu(this.html.content),this.events.bindButtonClick(this.html.content,".single-player",(()=>{this.setupSinglePlayerGame()})),this.events.bindButtonClick(this.html.content,".pvp",(()=>{this.setupPvPGame()}))}setupSinglePlayerGame(){this.gameState="setup",this.player1=new y("player1","PLAYER"),this.player2=new b("player2","AI"),this.currentPlayer=this.player1.id,this.prepareSinglePlayerSetupPhase(this.player1,".player1")}setupPvPGame(n="PLAYER 1",e="PLAYER 2"){this.gameState="setup",this.player1=new y("player1",n),this.player2=new y("player2",e),this.currentPlayer=this.player1.id,this.startNameSetupForPlayer1()}prepareSinglePlayerSetupPhase(n,e){this.player2.gameBoard.placeAllShipsRandomly(),this.prepareBoardPlacement(n,e),this.handleSetupBtns(n,"start-game",this.initSinglePlayerGame.bind(this))}handleSinglePlayerTurn(n,e){"playing"===this.gameState&&this.currentPlayer===this.player1.id&&(this.player2.gameBoard.receiveAttack(n,e),this.render.showHitandMiss(n,e,this.player2.id),this.player2.gameBoard.allShipsSunk?(this.handleEndGameModal(this.player1),this.events.bindModalPlayAgainClick((()=>{this.setupSinglePlayerGame()}))):this.handleComputerTurn())}validateComputerAttacks(){if("playing"!==this.gameState)return;if(this.currentPlayer!==this.player2.id)return;const[n,e]=this.player2.attack(this.player1);this.render.showHitandMiss(n,e,this.player1.id),this.player1.gameBoard.allShipsSunk&&(this.handleEndGameModal(this.player2),this.events.bindModalPlayAgainClick((()=>{this.setupSinglePlayerGame()})))}handleComputerTurn(){this.handlePlayerSwitch(this.player1,this.player2),setTimeout((()=>{"playing"===this.gameState&&(this.validateComputerAttacks(),this.handlePlayerSwitch(this.player2,this.player1))}),1e3)}initSinglePlayerGame(){this.gameState="playing",this.resetContainers(),this.render.showStartGameUI(this.player1,this.player2,this.html),this.render.showShipsInSinglePlayer(this.player1.id);const n=document.querySelector(".player2");this.events.bindBoardClick(n,((n,e)=>{this.handleSinglePlayerTurn(n,e)})),this.events.bindButtonClick(this.html.buttonMenu,".back-btn",(()=>{this.initMenu()}))}startPvPNameSetup(n,e){this.resetContainers(),this.render.showNameSetup(n,this.html.content),this.render.showBackButton(this.html.buttonMenu),this.events.bindButtonClick(this.html.buttonMenu,".back-btn",(()=>{this.initMenu()})),this.events.bindButtonClick(this.html.content,`.${n.id}-name-ready`,(()=>{const t=this.render.getNameInputValue(n.id);n.setName(t),e()}))}startNameSetupForPlayer1(){this.startPvPNameSetup(this.player1,this.startBoardPlacementForPlayer1.bind(this))}startBoardPlacementForPlayer1(){this.prepareBoardPlacement(this.player1,".player1"),this.handleSetupBtns(this.player1,`${this.player1.id}-ready`,this.startNameSetupForPlayer2.bind(this))}startNameSetupForPlayer2(){this.startPvPNameSetup(this.player2,this.startBoardPlacementForPlayer2.bind(this))}startBoardPlacementForPlayer2(){this.prepareBoardPlacement(this.player2,".player2"),this.handleSetupBtns(this.player2,`${this.player2.id}-ready`,this.initPvPGame.bind(this))}handlePvPTurn(n,e,t,r){if("playing"===this.gameState&&this.currentPlayer===t.id){if(r.gameBoard.receiveAttack(n,e),this.render.showHitandMiss(n,e,r.id),r.gameBoard.allShipsSunk)return this.handleEndGameModal(t),void this.events.bindModalPlayAgainClick((()=>{const n=r.name,e=t.name;this.setupPvPGame(n,e)}));this.handlePlayerSwitch(t,r)}}initPvPGame(){this.gameState="playing",this.resetContainers(),this.render.showStartGameUI(this.player1,this.player2,this.html);const n=document.querySelector(".player1");this.events.bindBoardClick(n,((n,e)=>{this.handlePvPTurn(n,e,this.player2,this.player1)}));const e=document.querySelector(".player2");this.events.bindBoardClick(e,((n,e)=>{this.handlePvPTurn(n,e,this.player1,this.player2)})),this.events.bindButtonClick(this.html.buttonMenu,".back-btn",(()=>{this.initMenu()}))}handleEndGameModal(n){this.gameState="gameover";const e=document.querySelector(".winner-modal"),t=document.querySelector(".winner-text");this.render.applyFadeInAnimation(e),t.textContent=`${n.name} wins!`,e.showModal(),this.events.bindModalExitClick(e,this.initMenu.bind(this))}}window.addEventListener("load",(()=>{new v,document.body.classList.add("ready")}))})();
//# sourceMappingURL=main.js.map